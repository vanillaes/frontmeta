export default function(e=""){const a={};let t="",r=[],s="",c=0,n=0,b=!1,k=!1,i=!1,o="",h="";const l=RegExp(/-|:|\r\n|\n|\r|\s|[^:\s\r\n]+/y);for(;null!==(r=l.exec(e));){switch(s=r[0],c){case 0:switch(!0){case"-"===s:n++,c=1;break;case/^(\s)$/.test(s):c=0;break;default:b=!0}break;case 1:switch(!0){case"-"===s:n++,c=1;break;case/^(\r\n|\n|\r)$/.test(s):if(n<3)throw Error("ERR: Meta boundary must have at least 3 dashes");k?(i=!0,c=5):(k=!0,c=2),n=0}break;case 2:switch(!0){case":"===s:c=3;break;case/^(\s)$/.test(s):c=2;break;case/^(\r\n|\n|\r)$/.test(s):throw Error("ERR: Broken key:value pair");default:o+=s,c=2}break;case 3:switch(!0){case""===h&&/^(\s)$/.test(s):c=3;break;case/^(\r\n|\n|\r)$/.test(s):c=1,a[o]=h.trimRight(),o="",h="";break;default:c=3,h+=s}}if(b){t=e;break}if(i){t=e.substr(l.lastIndex,e.length-1);break}}return{meta:a,body:t}}
